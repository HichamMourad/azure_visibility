---
- name: Retrieve hosts with your_tags filter
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
   - name: Retrieve vms from your_location
     azure.azcollection.azure_rm_virtualmachine_info:
       tags: "{{ your_tags | default('demo:true') }}"
     register: retrieved_info

   - name: Print retrieved_info
     ansible.builtin.debug:
       msg: "{{ retrieved_info }}"
